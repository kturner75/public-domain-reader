# H2 Database Configuration
spring.datasource.url=jdbc:h2:file:./data/library;DB_CLOSE_DELAY=-1
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# JPA Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false

# H2 Console (for debugging)
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# TTS Configuration
tts.openai.api-key=${OPENAI_API_KEY:}
tts.openai.model=gpt-4o-mini-tts
tts.openai.default-voice=fable
tts.cache-dir=./data/audio
tts.cache-only=false

# AI Feature Flags
ai.reasoning.enabled=true
ai.chat.enabled=true

# Reasoning Provider (character extraction, voice analysis, prompt generation)
ai.reasoning.provider=xai
ai.reasoning.timeout-seconds=180

# Reasoning - Ollama config
ai.reasoning.ollama.base-url=http://localhost:11434
ai.reasoning.ollama.model=llama3.1:latest

# Reasoning - xAI config (for when you want to switch)
ai.reasoning.xai.api-key=${XAI_API_KEY:}
ai.reasoning.xai.model=grok-4-1-fast-reasoning

# Chat Provider (character chat)
ai.chat.provider=ollama
ai.chat.timeout-seconds=60

# Chat - Ollama config (for local testing)
ai.chat.ollama.base-url=http://localhost:11434
ai.chat.ollama.model=llama3.1:latest

# Chat - xAI config
ai.chat.xai.api-key=${XAI_API_KEY:}
ai.chat.xai.model=grok-4-1-fast-non-reasoning

# ComfyUI Configuration
comfyui.base-url=http://127.0.0.1:8188
comfyui.workflow-timeout=120000
comfyui.checkpoint=dreamshaperXL_lightningDPMSDE.safetensors

# Illustration Configuration
illustration.cache-dir=./data/illustrations
illustration.image-width=768
illustration.image-height=1024
illustration.sampler-steps=20
illustration.cfg-scale=8
illustration.allow-prompt-editing=true

# Character Feature Configuration
character.enabled=true
character.portrait.width=512
character.portrait.height=640
character.portrait.cache-dir=./data/character-portraits
character.extraction.max-characters-per-chapter=5
character.chat.max-context-messages=10

# Recap Feature Configuration
recap.enabled=true
recap.rollout.mode=all
recap.rollout.allowed-book-ids=
recap.reasoning.provider=${ai.reasoning.provider:ollama}
recap.reasoning.timeout-seconds=${ai.reasoning.timeout-seconds:180}
recap.reasoning.ollama.base-url=${ai.reasoning.ollama.base-url:http://localhost:11434}
recap.reasoning.ollama.model=${ai.reasoning.ollama.model:llama3.1:latest}
recap.reasoning.xai.api-key=${ai.reasoning.xai.api-key:}
recap.reasoning.xai.model=${ai.reasoning.xai.model:grok-4-1-fast-reasoning}

# Quiz Feature Configuration
quiz.enabled=true
quiz.reasoning.provider=${ai.reasoning.provider:ollama}
quiz.reasoning.timeout-seconds=${ai.reasoning.timeout-seconds:180}
quiz.reasoning.ollama.base-url=${ai.reasoning.ollama.base-url:http://localhost:11434}
quiz.reasoning.ollama.model=${ai.reasoning.ollama.model:llama3.1:latest}
quiz.reasoning.xai.api-key=${ai.reasoning.xai.api-key:}
quiz.reasoning.xai.model=${ai.reasoning.xai.model:grok-4-1-fast-reasoning}
quiz.generation.questions-per-chapter=3
quiz.generation.max-questions=5
quiz.generation.max-context-chars=7000
quiz.difficulty.ramp.enabled=true
quiz.difficulty.ramp.chapter-step=6
quiz.difficulty.ramp.max-level=3
quiz.difficulty.ramp.question-boost-per-level=1

# Speed Reading Feature Configuration
speed-reading.enabled=true

# Generation Configuration
generation.cache-only=false

# Asset CDN Configuration
assets.cdn-base-url=https://public-domain-reader.atl1.cdn.digitaloceanspaces.com
assets.cdn-prefix=assets

# Pre-generation Configuration
pregen.poll-interval-seconds=10
pregen.max-wait-minutes=120
pregen.stall-threshold-polls=30
pregen.cooldown-minutes=10
recap.generation.stuck-threshold-minutes=15
